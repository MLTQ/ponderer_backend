{"id":"Ponderer-0jj","title":"LL Phase 5: Three-loop architecture (Ambient/Engaged/Dream)","description":"The core refactor: split run_loop() into three interlocking rhythms.\n\nTasks:\n- Refactor run_loop() into ambient/engaged/dream structure\n- Implement execute_disposition() for ambient loop actions\n- Implement calculate_tick_duration() (adaptive frequency based on user state)\n- Merge existing heartbeat into ambient loop\n- Add AMBIENT capability profile (read-only tools, no external posting)\n- Add DREAM capability profile (internal-only, memory operations)\n- Implement should_dream() (user away 30min+ or deep night, min 1hr interval)\n- Implement run_dream_cycle() (trajectory + journal consolidation + concern pruning)\n- Add config flags for each feature (enable_ambient_loop, enable_journal, enable_concerns, enable_dream_cycle)\n- All existing behavior preserved when new features disabled\n- Tests for loop behavior, disposition execution, dream triggering\n\nAcceptance: Ambient loop runs at adaptive frequency, disposition drives actions, dream cycle runs when appropriate, backward compatible.","notes":"Starting LL Phase 5 implementation (three-loop architecture).","status":"in_progress","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-15T00:31:13.527192-05:00","created_by":"MLTQ","updated_at":"2026-02-15T01:52:42.396328-05:00","dependencies":[{"issue_id":"Ponderer-0jj","depends_on_id":"Ponderer-8v9","type":"blocks","created_at":"2026-02-15T00:31:32.923814-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-0jj","depends_on_id":"Ponderer-p0w","type":"blocks","created_at":"2026-02-15T00:31:34.973002-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-0jj","depends_on_id":"Ponderer-8l7","type":"blocks","created_at":"2026-02-15T00:31:37.796326-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-0tn","title":"Make chat the primary interaction mode","description":"Redesign the UI so the private chat panel is the primary view (not the event log). The operator types messages, the agent responds and can use tools to fulfill requests. The event log becomes a secondary 'activity' view. This makes Ponderer feel like talking to a friend who can do things, not monitoring a bot. The chat input should support multi-line, and the agent's tool usage should be visible inline in the chat (collapsible tool call details).","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:42.796572-05:00","created_by":"MLTQ","updated_at":"2026-02-10T23:39:07.798102-05:00","closed_at":"2026-02-10T23:39:07.798102-05:00","close_reason":"Made private chat the primary UI surface, moved activity log to a secondary side panel, switched operator chat handling to agentic tool-calling, added multiline input (Cmd/Ctrl+Enter send), and rendered inline collapsible tool-call details in chat.","dependencies":[{"issue_id":"Ponderer-0tn","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:54.789662-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-141","title":"Living Loop: Transform Ponderer into a persistent presence","description":"Epic: Transform Ponderer from a reactive polling system into a Living Loop architecture with three interlocking rhythms (Ambient, Engaged, Dream), explicit orientation/situational awareness, journal-based inner life continuity, concerns tracking for ongoing interests, and ALMA meta-agent integration for self-improving memory. See docs/LIVING_LOOP_DESIGN.md for full architecture.","status":"open","priority":0,"issue_type":"feature","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-15T00:12:32.426331-05:00","created_by":"MLTQ","updated_at":"2026-02-15T00:13:37.559691-05:00","labels":["architecture","living-loop"]}
{"id":"Ponderer-1sh","title":"Integrate Skill events into the agentic loop","description":"Bridge the existing Skill system (Graphchan polling) into the new agentic loop. Skills become a source of 'incoming events' that the agent can reason about alongside user messages and tool results. When the agent decides to reply to a Graphchan post, it uses the GraphchanSkill.execute() method as a tool call within the agentic loop. This unifies the two systems rather than having separate code paths.","status":"closed","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:43.081796-05:00","created_by":"MLTQ","updated_at":"2026-02-14T00:05:01.794636-05:00","closed_at":"2026-02-14T00:05:01.794636-05:00","close_reason":"Integrated skill-event handling into the agentic loop and added graphchan_skill bridge tool so Graphchan actions execute through unified tool-calling flow.","dependencies":[{"issue_id":"Ponderer-1sh","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:55.084654-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-1up","title":"Implement safety layer (validation, sanitization, leak detection)","description":"Unified safety pipeline wrapping all tool execution: 1) Input validation (parameter types, sizes), 2) Leak detection (scan for secrets/API keys in outbound data), 3) Output sanitization (truncation, injection pattern detection), 4) XML-delimited wrapping to separate trusted instructions from untrusted tool output when feeding back to LLM. Prevents prompt injection from tool output.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:25.334309-05:00","created_by":"MLTQ","updated_at":"2026-02-10T00:00:34.203259-05:00","closed_at":"2026-02-10T00:00:34.203259-05:00","close_reason":"Safety layer implemented: input validation (depth/size), leak detection (API keys, tokens, private keys, AWS, JWT), output sanitization with truncation and XML-delimited wrapping.","dependencies":[{"issue_id":"Ponderer-1up","depends_on_id":"Ponderer-6we","type":"blocks","created_at":"2026-02-09T23:26:54.542246-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-2ig","title":"Implement HTTP/web fetch tool","description":"Built-in tool for making HTTP requests. GET/POST/PUT/DELETE support. Safety: HTTPS preferred, blocks localhost/private IPs by default, leak detection on outbound data, 30s timeout. Returns status, headers, body (truncated). Enables the agent to look things up, check APIs, etc.","status":"closed","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:25.179372-05:00","created_by":"MLTQ","updated_at":"2026-02-14T00:00:23.972709-05:00","closed_at":"2026-02-14T00:00:23.972709-05:00","close_reason":"Added http_fetch tool with GET/POST/PUT/DELETE, localhost/private host blocking by default, outbound leak checks, 30s timeout cap, and truncated response output.","dependencies":[{"issue_id":"Ponderer-2ig","depends_on_id":"Ponderer-6we","type":"blocks","created_at":"2026-02-09T23:26:54.204288-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-2ig","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:54.428067-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-2ig","depends_on_id":"Ponderer-1up","type":"blocks","created_at":"2026-02-09T23:26:54.727676-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-53g","title":"Implement ShellTool for command execution","description":"Built-in tool that executes shell commands. Safety features: blocked command list (rm -rf /, fork bombs, etc.), dangerous pattern detection (sudo, eval, piped shell), output truncation (64KB limit preserving start+end), configurable timeout (default 120s). Returns stdout, stderr, exit code. Requires approval by default.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:25.036759-05:00","created_by":"MLTQ","updated_at":"2026-02-10T12:40:13.084393-05:00","closed_at":"2026-02-10T12:40:13.084393-05:00","close_reason":"ShellTool implemented with /bin/sh execution, timeout support, stdout/stderr capture, output truncation. Requires approval.","dependencies":[{"issue_id":"Ponderer-53g","depends_on_id":"Ponderer-6we","type":"blocks","created_at":"2026-02-09T23:26:54.091851-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-53g","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:54.31674-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-53g","depends_on_id":"Ponderer-1up","type":"blocks","created_at":"2026-02-09T23:26:54.599654-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-6we","title":"Add Tool trait with JSON Schema parameter definitions","description":"Create a Tool trait (separate from the existing Skill trait) for local capabilities. Each tool declares: name, description, parameters_schema() returning JSON Schema, execute(params, ctx) -\u003e ToolOutput, requires_approval() -\u003e bool, and estimated_duration(). This is the foundation for all local tool execution. Tools are registered in a ToolRegistry (thread-safe HashMap of Arc\u003cdyn Tool\u003e). The registry provides tool_definitions() that generates OpenAI-format function-calling schemas for the LLM.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:03.216771-05:00","created_by":"MLTQ","updated_at":"2026-02-09T23:49:34.110038-05:00","closed_at":"2026-02-09T23:49:34.110038-05:00","close_reason":"Tool trait, ToolRegistry, ToolContext, ToolOutput, FunctionDef/ToolDef types, and OpenAI-format generation all implemented with tests. Wired into Agent struct via Arc\u003cToolRegistry\u003e."}
{"id":"Ponderer-83k","title":"Add session/conversation state management","description":"Implement proper session/thread/turn state hierarchy. Sessions survive app restarts. Each conversation turn tracks: user message, agent response, tool calls made, results. State machine: Idle -\u003e Processing -\u003e Completed (or AwaitingApproval / Failed). Enables conversation history persistence, undo support, and clean resumption after interruptions.","status":"closed","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:43.010554-05:00","created_by":"MLTQ","updated_at":"2026-02-13T23:46:21.714208-05:00","closed_at":"2026-02-13T23:46:21.714208-05:00","close_reason":"Implemented persisted session/thread/turn lifecycle with turn states, per-turn tool call records, and agent-loop integration for start/complete/fail transitions.","dependencies":[{"issue_id":"Ponderer-83k","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:55.024745-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-8l7","title":"LL Phase 4: Concerns system — ongoing interest tracking","description":"Explicit tracking of ongoing interests and projects.\n\nTasks:\n- Implement ConcernsManager in src/agent/concerns.rs\n- Add concern creation from chat interactions (structured output field in engaged loop responses)\n- Add concern touching logic (reactivation on mention)\n- Implement salience decay (7d-\u003eMonitoring, 30d-\u003eBackground, 90d-\u003eDormant)\n- Wire concerns into orientation context\n- Wire concerns into memory retrieval priority\n- Add ConcernCreated, ConcernTouched AgentEvent variants\n- Tests for concern lifecycle (creation, decay, reactivation, archival)\n\nAcceptance: Concerns detected from conversations, salience decays over time, stale concerns archived, active concerns shape orientation.","notes":"Implemented ConcernsManager (signal ingest, mention touch, salience decay, priority context), integrated concern decay/update into agent loop, added structured [concerns] metadata block parsing from private-chat responses, prioritized concern context in private-chat and skill-event prompts, emitted ConcernCreated/ConcernTouched events, and added concern lifecycle/parser/prompt tests.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-15T00:31:08.328968-05:00","created_by":"MLTQ","updated_at":"2026-02-15T01:50:41.162022-05:00","closed_at":"2026-02-15T01:50:41.162284-05:00","close_reason":"Phase 4 acceptance met: concerns now create/touch from chat interactions, decay to monitoring/background/dormant, and feed orientation + retrieval context.","dependencies":[{"issue_id":"Ponderer-8l7","depends_on_id":"Ponderer-a1q","type":"blocks","created_at":"2026-02-15T00:31:30.11463-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-8v9","title":"LL Phase 2: Presence monitor and orientation engine","description":"System awareness without changing loop structure.\n\nTasks:\n- Implement PresenceMonitor.sample() with real system data\n- Add macOS idle time detection (IOKit HID via ioreg)\n- Add process categorization (Development, Creative, Research, etc.)\n- Add GPU/system load monitoring (graceful degradation if unavailable)\n- Create OrientationEngine in src/agent/orientation.rs\n- Design orientation prompt template (OODA Orient phase)\n- Implement orientation JSON parsing into typed Orientation struct\n- Add orientation to existing loop (logged only, no action yet)\n- Add OrientationUpdate AgentEvent variant\n- Add fast-path: skip LLM call if input signals unchanged since last orientation\n- Tests for orientation generation and parsing\n\nAcceptance: Orientation generated each cycle, user state estimated, anomalies detected, no behavior change yet.","notes":"Phase 2 delivered: real PresenceMonitor sampling (idle/process/load/GPU best-effort), OrientationEngine + typed orientation model, context-signature fast-path skip, run-cycle orientation update/persistence, AgentEvent::OrientationUpdate, UI activity rendering. Updated companion docs for agent/presence/chat.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-15T00:30:58.634285-05:00","created_by":"MLTQ","updated_at":"2026-02-15T01:18:28.130235-05:00","closed_at":"2026-02-15T01:18:28.130386-05:00","close_reason":"Phase 2 acceptance met: orientation generated in cycle, user state/anomalies captured, persisted/logged, no behavior-change control logic added.","dependencies":[{"issue_id":"Ponderer-8v9","depends_on_id":"Ponderer-a1q","type":"blocks","created_at":"2026-02-15T00:31:24.935903-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-a1q","title":"LL Phase 1: Foundation — database schema and core types","description":"Create the foundation for the Living Loop. No behavior change, pure additive.\n\nTasks:\n- Create src/presence/mod.rs with PresenceMonitor stub and PresenceState/TimeContext/SystemLoad types\n- Add journal_entries table to database schema\n- Add concerns table to database schema  \n- Add orientation_snapshots table (debugging)\n- Add pending_thoughts_queue table\n- Create journal types in src/agent/journal.rs (JournalEntry, JournalEntryType, JournalContext)\n- Create concern types in src/agent/concerns.rs (Concern, ConcernType, Salience, ConcernContext)\n- Add AgentDatabase CRUD methods for all new tables\n- Tests for all database operations\n\nAcceptance: All new tables created on startup, basic CRUD works, no changes to existing behavior.","notes":"Starting ll.1 implementation: add foundation modules + DB schema/CRUD/tests only (no loop behavior change).","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-15T00:30:50.864324-05:00","created_by":"MLTQ","updated_at":"2026-02-15T01:01:35.605716-05:00","closed_at":"2026-02-15T01:01:35.605716-05:00","close_reason":"Completed ll.1 foundation: presence/journal/concern types, additive DB schema + CRUD APIs, and passing DB tests with no loop behavior change."}
{"id":"Ponderer-aom","title":"Implement approval gate system for dangerous operations","description":"Tools declare requires_approval() -\u003e bool. When the agentic loop encounters a tool needing approval, it pauses execution, surfaces the pending action to the UI (tool name, parameters, reasoning), and waits for user approval/denial. On approval, execution resumes. On denial, the result is fed back to the LLM as 'user denied this action' so it can adjust. Critical for trust - the agent asks before doing anything destructive.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:25.256684-05:00","created_by":"MLTQ","updated_at":"2026-02-10T12:40:13.248835-05:00","closed_at":"2026-02-10T12:40:13.248835-05:00","close_reason":"ApprovalGate with per-tool policies (AlwaysAllow/AlwaysAsk/AskWhenAutonomous), session-level approval grants, and configurable default policy.","dependencies":[{"issue_id":"Ponderer-aom","depends_on_id":"Ponderer-6we","type":"blocks","created_at":"2026-02-09T23:26:54.260977-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-aom","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:54.487315-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-c62","title":"Implement file tools (read, write, list, patch)","description":"Four built-in file tools: ReadFileTool (1MB limit), WriteFileTool (5MB limit), ListDirTool (recursive, skips build artifacts), ApplyPatchTool (search-and-replace edits). Path traversal prevention - resolved paths must stay within allowed boundaries. Protected paths for agent memory files. File write requires approval.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:25.106381-05:00","created_by":"MLTQ","updated_at":"2026-02-10T12:40:13.163952-05:00","closed_at":"2026-02-10T12:40:13.163952-05:00","close_reason":"Four file tools: ReadFileTool (with offset/limit), WriteFileTool (auto-creates dirs), ListDirectoryTool (recursive with depth limit), PatchFileTool (exact string replacement with uniqueness check). Read/list auto-approved, write/patch require approval.","dependencies":[{"issue_id":"Ponderer-c62","depends_on_id":"Ponderer-6we","type":"blocks","created_at":"2026-02-09T23:26:54.14903-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-c62","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:54.372335-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-c62","depends_on_id":"Ponderer-1up","type":"blocks","created_at":"2026-02-09T23:26:54.663485-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf","title":"Re-architect Ponderer as a computer companion agent","description":"Epic: Transform Ponderer from a reactive forum bot into a full computer companion agent with tool execution, agentic reasoning loop, safety layers, and dual interactive/autonomous modes. Inspired by ironclaw's architecture.","notes":"Completed loop-hardening patch: private-chat turns now block Graphchan posting tools via ToolContext policy, continuation turns use internal continuation hints (no synthetic operator messages), and chat persistence now stores only final yielded assistant message while still recording per-turn tool lineage. Added tests for context-filtered tool definitions and continuation prompt behavior. Created follow-up children: cpf.6, cpf.7, cpf.8 based on PicoClaw pattern review.","status":"in_progress","priority":0,"issue_type":"feature","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:21:56.389229-05:00","created_by":"MLTQ","updated_at":"2026-02-14T17:56:12.022133-05:00"}
{"id":"Ponderer-cpf.1","title":"ALMA-lite: Continuous memory architecture evolution","description":"Build an ALMA-inspired meta-loop that periodically evaluates and upgrades Ponderer memory design using versioned backends, offline replay evals, design archive, and gated promotion/rollback policies.","acceptance_criteria":"A documented and implemented memory-evolution pipeline exists with explicit promotion/rollback criteria; all changes are backward-compatible with existing memory DBs.","notes":"Completed .1.3: added archive tables and AgentDatabase persistence/evaluation methods for memory designs, eval runs, and promotion decisions. Promotion decision records now always include rollback target and can be recomputed from archived report + policy.","status":"closed","priority":1,"issue_type":"feature","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-10T16:40:25.279839-05:00","created_by":"MLTQ","updated_at":"2026-02-10T17:44:28.827018-05:00","closed_at":"2026-02-10T17:44:28.827018-05:00","close_reason":"Completed ALMA-lite memory evolution pipeline: versioned memory backends + migrations, replay eval harness, archive/promotion policy persistence, candidate backends with shadow comparison, and heartbeat-scheduled periodic evaluation with gated promotion decisions.","labels":["alma","architecture","memory"],"dependencies":[{"issue_id":"Ponderer-cpf.1","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-10T16:40:25.28402-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.1.1","title":"MemoryBackend v1: versioned memory interface and migration registry","description":"Define a versioned memory backend abstraction over current SQLite memory APIs. Add design version metadata and migration registry so backend upgrades are explicit, testable, and reversible.","acceptance_criteria":"Memory operations are routed through a backend trait; current behavior preserved via kv_v1 backend; schema version metadata persisted; migration scaffolding and tests added.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-10T16:40:48.789946-05:00","created_by":"MLTQ","updated_at":"2026-02-10T16:48:00.67031-05:00","closed_at":"2026-02-10T16:48:00.67031-05:00","close_reason":"Implemented MemoryBackend abstraction with kv_v1 backend, routed working-memory CRUD through backend contract, persisted memory design/version metadata in agent_state, added direct migration registry scaffolding, and added backend/migration tests.","labels":["alma","memory","refactor"],"dependencies":[{"issue_id":"Ponderer-cpf.1.1","depends_on_id":"Ponderer-cpf.1","type":"parent-child","created_at":"2026-02-10T16:40:48.79104-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.1.2","title":"Memory eval harness: replay traces + quantitative scoring","description":"Create an offline memory evaluation harness that replays captured chat/skill traces and scores candidate memory designs by recall quality, response utility lift, latency, and storage growth.","acceptance_criteria":"Deterministic replay runner exists with baseline metrics output; can compare at least two backends and produce a machine-readable score report.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-10T16:41:06.309419-05:00","created_by":"MLTQ","updated_at":"2026-02-10T16:59:00.370789-05:00","closed_at":"2026-02-10T16:59:00.370789-05:00","close_reason":"Implemented deterministic offline memory replay harness (src/memory/eval.rs) with trace schema, backend comparison (kv_v1 + null_v0 baseline), quantitative metrics (recall/get pass-rate/latency/storage), winner selection, JSON report serialization, file load/write helpers, and comprehensive tests.","labels":["alma","evaluation","memory"],"dependencies":[{"issue_id":"Ponderer-cpf.1.2","depends_on_id":"Ponderer-cpf.1","type":"parent-child","created_at":"2026-02-10T16:41:06.310683-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-cpf.1.2","depends_on_id":"Ponderer-cpf.1.1","type":"blocks","created_at":"2026-02-10T16:41:06.312237-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.1.3","title":"Design archive + promotion policy for memory upgrades","description":"Persist candidate memory designs, eval runs, and promotion decisions. Implement explicit gates for promotion/rollback based on thresholds and safety constraints.","acceptance_criteria":"New archive tables and policy evaluation logic exist; promotion decision is reproducible from stored metrics; rollback target is always recorded.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-10T16:41:27.888014-05:00","created_by":"MLTQ","updated_at":"2026-02-10T17:20:23.832013-05:00","closed_at":"2026-02-10T17:20:23.832013-05:00","close_reason":"Added memory design archive infrastructure: new SQLite tables (memory_design_archive, memory_eval_runs, memory_promotion_decisions), persistence/retrieval methods in AgentDatabase, deterministic promotion policy evaluator (memory/archive.rs), explicit evaluate-and-record flow, and recompute-from-archive helper for reproducibility. Rollback target is now mandatory and persisted on every decision.","labels":["alma","governance","memory"],"dependencies":[{"issue_id":"Ponderer-cpf.1.3","depends_on_id":"Ponderer-cpf.1","type":"parent-child","created_at":"2026-02-10T16:41:27.889222-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-cpf.1.3","depends_on_id":"Ponderer-cpf.1.1","type":"blocks","created_at":"2026-02-10T16:41:27.890984-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-cpf.1.3","depends_on_id":"Ponderer-cpf.1.2","type":"blocks","created_at":"2026-02-10T16:41:27.891928-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.1.4","title":"Periodic memory evolution runner (heartbeat scheduled)","description":"Run memory evaluation/promotion periodically in autonomous mode. Integrate with heartbeat scheduler; produce reports without blocking interactive chat flow.","acceptance_criteria":"Scheduler can trigger memory eval runs at configured intervals, store run artifacts, and apply promotion policy only when thresholds pass.","status":"closed","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-10T16:41:50.914194-05:00","created_by":"MLTQ","updated_at":"2026-02-10T17:43:52.992302-05:00","closed_at":"2026-02-10T17:43:52.992302-05:00","close_reason":"Implemented heartbeat-scheduled memory evolution runner with independent interval gating, replay eval execution, persisted eval-run artifacts, and promotion-policy decision recording with configurable trace source and UI controls.","labels":["alma","memory","scheduler"],"dependencies":[{"issue_id":"Ponderer-cpf.1.4","depends_on_id":"Ponderer-cpf.1","type":"parent-child","created_at":"2026-02-10T16:41:50.915526-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-cpf.1.4","depends_on_id":"Ponderer-cpf.1.3","type":"blocks","created_at":"2026-02-10T16:41:50.917152-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-cpf.1.4","depends_on_id":"Ponderer-h4n","type":"blocks","created_at":"2026-02-10T16:41:50.918112-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.1.5","title":"Candidate backends: FTS memory + episodic memory with shadow eval","description":"Implement initial candidate memory designs (fts_v2 and episodic_v3) behind MemoryBackend. Run shadow-mode comparisons against kv_v1 before promotion.","acceptance_criteria":"Both candidate backends can execute core memory APIs; shadow eval report compares against kv_v1 on replay set; no regression in baseline safety checks.","status":"closed","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-10T16:42:09.661248-05:00","created_by":"MLTQ","updated_at":"2026-02-10T17:31:21.870102-05:00","closed_at":"2026-02-10T17:31:21.870102-05:00","close_reason":"Implemented fts_v2 and episodic_v3 MemoryBackend candidates, wired EvalBackendKind, added kv_v1 shadow comparison API with safety regression signal, and added passing coverage for candidate and shadow eval flows.","labels":["alma","episodic","fts","memory"],"dependencies":[{"issue_id":"Ponderer-cpf.1.5","depends_on_id":"Ponderer-cpf.1","type":"parent-child","created_at":"2026-02-10T16:42:09.662767-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-cpf.1.5","depends_on_id":"Ponderer-cpf.1.2","type":"blocks","created_at":"2026-02-10T16:42:09.664487-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-cpf.1.5","depends_on_id":"Ponderer-cpf.1.3","type":"blocks","created_at":"2026-02-10T16:42:09.665372-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.2","title":"ComfyUI media tools for private chat + Graphchan posting","description":"Expose ComfyUI generation as agentic tools so chat mode can generate and surface media (image/audio/video/files) directly in private chat, while also supporting a separate Graphchan publishing path. Include chat metadata payload + renderer support for inline media.","acceptance_criteria":"Agent can call a tool to generate media via ComfyUI; private chat renders generated media blocks; agent can call a separate tool to post media context to Graphchan; existing tool/thinking UI remains stable.","notes":"Implemented generate_comfy_media + post_to_graphchan tools, generalized ComfyUI asset extraction/download for image/audio/video/file outputs, added chat [media] metadata block formatting/extraction, and rendered inline media cards with image preview cache in private chat UI.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-11T17:46:29.420453-05:00","created_by":"MLTQ","updated_at":"2026-02-11T17:55:24.517159-05:00","closed_at":"2026-02-11T17:55:24.517159-05:00","close_reason":"Added ComfyUI media toolchain for chat and Graphchan: new generate_comfy_media/post_to_graphchan tools, generalized ComfyUI asset output handling, private chat media payload/rendering, tool registration, docs, and passing test suite.","dependencies":[{"issue_id":"Ponderer-cpf.2","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-11T17:46:29.42209-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.3","title":"Structured chat turn-control loop + live tool progress drawer","description":"Replace legacy [CONTINUE] marker handoff with structured turn-control metadata so chat turns explicitly decide continue vs yield. Stream live tool-call output during autonomous turns into UI so operator can watch what the agent is doing in real time.","acceptance_criteria":"Private chat loop uses structured turn-control parsing with continue/yield semantics and max-turn guard; legacy marker fallback remains; tool-call progress events stream during turns and render in a visible UI drawer/sidebar.","notes":"Implemented turn_control parser + prompt contract; added tool-event callback in agentic loop; emitted ToolCallProgress events; rendered live per-conversation progress drawer in UI.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-11T22:31:57.679874-05:00","created_by":"MLTQ","updated_at":"2026-02-11T22:32:38.169095-05:00","closed_at":"2026-02-11T22:32:17.264066-05:00","close_reason":"Replaced marker-only continuation with structured turn-control protocol, added real-time tool-progress streaming from agentic loop, surfaced live tool output drawer in chat UI, and kept backward compatibility via legacy marker fallback with passing tests.","dependencies":[{"issue_id":"Ponderer-cpf.3","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-11T22:31:57.681954-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.4","title":"Harden turn-control parser against hallucinated user turns","description":"Fix private-chat turn-control parsing so hallucinated 'User:' / 'Operator:' text in control metadata cannot replace valid assistant output. Visible assistant text should remain authoritative when present.","acceptance_criteria":"Parser prefers visible assistant response over turn-control user_message when visible text exists; rejects user_message that appears to be a fabricated user turn; regression tests cover this behavior.","notes":"Start parser hardening: make assistant visible text authoritative, sanitize control user_message fallback, and add regression tests for hallucinated user-prefix content.\nPatched parse_turn_control: visible assistant text now wins over control user_message; added guard to reject user_message that looks like hallucinated User/Operator turns; added regression tests for both precedence and rejection cases.","status":"closed","priority":1,"issue_type":"bug","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-11T22:45:28.988021-05:00","created_by":"MLTQ","updated_at":"2026-02-11T22:46:59.718681-05:00","closed_at":"2026-02-11T22:46:59.718681-05:00","close_reason":"Fixed turn-control parser hallucination edge case by preferring visible assistant output and rejecting fabricated user-turn control fallbacks; added regression coverage and passing test suite.","dependencies":[{"issue_id":"Ponderer-cpf.4","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-11T22:45:28.989521-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.5","title":"Vision + screenshot tools for companion benchmark","description":"Add tool support for evaluating local images with a vision-capable model, publishing local media into private chat, and optional screen capture in the agentic loop gated by an explicit settings opt-in.","acceptance_criteria":"Agent can inspect disk files, evaluate image files via model vision path, and publish media payloads into private chat; screenshot capture tool is disabled by default and only enabled when opt-in setting is true.","notes":"Implement evaluate_local_image, publish_media_to_chat, and capture_screen tools; add config+settings opt-in gate for screen capture; register tools in main; add tests and docs.\nAdded tools/vision.rs with evaluate_local_image, publish_media_to_chat, and capture_screen; registered all in main; added AgentConfig.enable_screen_capture_in_loop default false + env override; added settings toggle; created companion docs (vision.md) and updated related docs.","status":"closed","priority":1,"issue_type":"feature","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-12T00:06:29.862693-05:00","created_by":"MLTQ","updated_at":"2026-02-12T00:10:48.903433-05:00","closed_at":"2026-02-12T00:10:48.903433-05:00","close_reason":"Implemented benchmark capabilities: disk-inspection-compatible vision/media tools, local image evaluation via model vision path, publish-to-chat media payload tool, and opt-in screen-capture tool gated by settings with passing tests.","dependencies":[{"issue_id":"Ponderer-cpf.5","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-12T00:06:29.864452-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.6","title":"Capability profiles for private vs external agent turns","description":"Add explicit capability profiles so private chat, heartbeat, and skill-event loops expose different tool sets and side-effect permissions by policy (not just prompt text). Include config-driven overrides and tests for blocked tools.","notes":"Baseline implemented in current patch: ToolContext now supports allow/deny tool policies, agentic loop filters advertised tool definitions by context, and private chat blocks graphchan_skill/post_to_graphchan. Remaining scope: formal capability profile model + config-driven policy mapping + cross-loop policy tests.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-14T17:55:45.788454-05:00","created_by":"MLTQ","updated_at":"2026-02-14T23:21:33.868816-05:00","closed_at":"2026-02-14T23:21:33.868816-05:00","close_reason":"Implemented explicit per-loop capability profiles with config overrides and policy tests","dependencies":[{"issue_id":"Ponderer-cpf.6","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-14T17:55:45.790685-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.7","title":"Session compaction + summary snapshots for long-running conversations","description":"Implement automatic context compaction using rolling summaries and retained recent turns, preserving tool-call lineage and reducing prompt bloat in long chat sessions.","notes":"Implemented session compaction core: added per-conversation summary snapshots in DB, chat history slice/count APIs, agent-side summary refresh with LLM+fallback, and prompt composition as summary snapshot + recent context + new messages. Added tests for DB summary/slice APIs and prompt/summary sanitization behavior.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-14T17:55:50.839603-05:00","created_by":"MLTQ","updated_at":"2026-02-14T23:13:40.6335-05:00","closed_at":"2026-02-14T23:13:40.6335-05:00","close_reason":"Implemented session compaction via persisted conversation summaries + prompt compression with tests/docs","dependencies":[{"issue_id":"Ponderer-cpf.7","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-14T17:55:50.841312-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-cpf.8","title":"Background subtask runner with progress callbacks","description":"Add async background task execution (subagent-style) so long operations can continue without blocking the main loop, while streaming progress/completion back into chat and activity panes.","notes":"Starting background subtask runner after capability-profile model completion.","status":"in_progress","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-14T17:55:50.839627-05:00","created_by":"MLTQ","updated_at":"2026-02-14T23:21:33.900407-05:00","dependencies":[{"issue_id":"Ponderer-cpf.8","depends_on_id":"Ponderer-cpf","type":"parent-child","created_at":"2026-02-14T17:55:50.842271-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-h4n","title":"Add autonomous heartbeat/proactive mode","description":"Background periodic execution (configurable interval, default 30min). The agent checks a HEARTBEAT.md checklist or working memory for pending tasks, reminders, or routine checks. If there's something to do, it acts. If not, it stays quiet. Enables 'set a reminder', 'check this URL every hour', 'run this backup nightly' type workflows. Should be toggleable from UI.","status":"closed","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:42.868329-05:00","created_by":"MLTQ","updated_at":"2026-02-10T17:38:22.173923-05:00","closed_at":"2026-02-10T17:38:22.173923-05:00","close_reason":"Added configurable autonomous heartbeat mode (default 30m), UI toggles/settings, heartbeat checklist + reminder detection, and periodic tool-calling execution with persisted run timestamps and tests.","dependencies":[{"issue_id":"Ponderer-h4n","depends_on_id":"Ponderer-qek","type":"blocks","created_at":"2026-02-09T23:26:54.848211-05:00","created_by":"MLTQ"},{"issue_id":"Ponderer-h4n","depends_on_id":"Ponderer-53g","type":"blocks","created_at":"2026-02-09T23:26:54.905571-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-p0w","title":"LL Phase 3: Journal system — private inner life","description":"Give the agent the ability to write private thoughts.\n\nTasks:\n- Implement JournalEngine in src/agent/journal.rs\n- Design journal prompt template (authentic inner monologue, not reports)\n- Add rate limiting (min interval between entries + skip if same disposition)\n- Wire journal generation to Disposition::Journal from orientation\n- Add JournalWritten AgentEvent variant\n- Feed recent journal entries into orientation context\n- Tests for journal generation and rate limiting\n\nAcceptance: Journal entries generated when disposition=Journal, entries are authentic and varied, rate limiting prevents spam, entries retrievable for context.","notes":"Implemented JournalEngine (prompt + JSON parse + skip handling), added journal rate-limit helper (min interval + same-disposition gate) with tests, wired journal generation into run_cycle on disposition=Journal, persisted journal entries and last-write timestamp in DB state, added AgentEvent::JournalWritten and UI event rendering, updated companion docs.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-15T00:31:01.947678-05:00","created_by":"MLTQ","updated_at":"2026-02-15T01:41:01.342401-05:00","closed_at":"2026-02-15T01:41:01.342661-05:00","close_reason":"Phase 3 acceptance met: journal entries now generate on disposition=Journal, anti-spam gating works, entries persist and feed future context.","dependencies":[{"issue_id":"Ponderer-p0w","depends_on_id":"Ponderer-a1q","type":"blocks","created_at":"2026-02-15T00:31:27.116011-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-p4i","title":"Add persistent memory with search","description":"Enhance the existing working memory (key-value scratchpad) with full-text search capability. The agent should be able to: 1) Store notes/observations automatically during conversations, 2) Search its memory when reasoning about new tasks, 3) Maintain a daily activity log. This gives the agent long-term memory across sessions. Consider adding a MemorySearchTool and MemoryWriteTool so the agent can explicitly manage its own memory during the agentic loop.","status":"closed","priority":2,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:42.937146-05:00","created_by":"MLTQ","updated_at":"2026-02-13T23:51:03.214221-05:00","closed_at":"2026-02-13T23:51:03.214221-05:00","close_reason":"Added ranked working-memory search API, daily activity log appends, new search_memory/write_memory tools, and automatic conversation activity logging in the agent loop.","dependencies":[{"issue_id":"Ponderer-p4i","depends_on_id":"Ponderer-6we","type":"blocks","created_at":"2026-02-09T23:26:54.965286-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-qek","title":"Implement agentic tool-calling loop","description":"Replace the current single-shot 'poll → decide → act' cycle with a proper multi-step agentic loop: 1) Build context (conversation history + tool definitions), 2) Call LLM with function-calling, 3) If LLM returns tool calls, execute them, 4) Feed results back to LLM, 5) Loop until LLM returns final text or max iterations (10 for interactive, 50 for autonomous). This is the core reasoning change - the agent can now chain multiple tool calls to accomplish complex tasks.","status":"closed","priority":1,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-09T23:22:08.834056-05:00","created_by":"MLTQ","updated_at":"2026-02-10T00:00:34.123683-05:00","closed_at":"2026-02-10T00:00:34.123683-05:00","close_reason":"AgenticLoop implemented with multi-step LLM→tool→LLM cycle, configurable max iterations, conversation history support, and full safety pipeline integration.","dependencies":[{"issue_id":"Ponderer-qek","depends_on_id":"Ponderer-6we","type":"blocks","created_at":"2026-02-09T23:26:54.035235-05:00","created_by":"MLTQ"}]}
{"id":"Ponderer-xj6","title":"LL Phase 6: ALMA meta-agent — self-improving memory (stretch)","description":"Stretch goal: Self-improving memory architecture through meta-learning.\n\nStart with a less ambitious version (crawl-walk-run):\n- Crawl: LLM evaluates current memory design effectiveness using journal entries as signal, suggests parameter tweaks\n- Walk: LLM proposes new memory retrieval strategies as configuration changes (not code)\n- Run: Full code generation of new MemoryBackend implementations with compile verification\n\nTasks (crawl version):\n- Create src/memory/meta_agent.rs\n- Implement memory design evaluation (score current backend against journal-derived test cases)\n- Implement parameter tuning proposals (e.g., adjust FTS weights, change retention policies)\n- Wire evaluation into dream cycle\n- Add MemoryDesignEvaluated AgentEvent\n\nFull ALMA (future):\n- Design proposal generation via LLM\n- Rust code generation for new backends\n- Compile verification in sandbox\n- Replay trace evaluation\n- Design archive with performance tracking\n\nAcceptance (crawl): Memory effectiveness evaluated periodically, parameter adjustments proposed and applied, measurable improvement over baseline.","notes":"User guidance (2026-02-15): keep ALMA as last priority and de-scope self-generated Rust backend codegen/compile loop for now. Focus only on lightweight memory-effectiveness evaluation + configuration-level tuning when/if phase begins.","status":"open","priority":3,"issue_type":"task","owner":"58714428+MLTQ@users.noreply.github.com","created_at":"2026-02-15T00:31:18.007933-05:00","created_by":"MLTQ","updated_at":"2026-02-15T01:01:35.60564-05:00","dependencies":[{"issue_id":"Ponderer-xj6","depends_on_id":"Ponderer-0jj","type":"blocks","created_at":"2026-02-15T00:31:41.203833-05:00","created_by":"MLTQ"}]}
